# ZetaLab ì•„í‚¤í…ì²˜ ë¬¸ì„œ

**ì‘ì„±ì¼**: 2026-01-29  
**ì‘ì„±ì**: Manus AI  
**ë²„ì „**: 1.0.0

---

## ê°œìš”

ì´ ë¬¸ì„œëŠ” ZetaLab í”„ë¡œì íŠ¸ì˜ ê¸°ìˆ  ìŠ¤íƒ, í´ë” êµ¬ì¡°, ì½”ë”© ì»¨ë²¤ì…˜, ë°˜ë³µ íŒ¨í„´ì„ ì •ë¦¬í•©ë‹ˆë‹¤. **ëª¨ë“  ì½”ë“œ ì‘ì„±ì€ ì´ ë¬¸ì„œë¥¼ ìµœìš°ì„  ê¸°ì¤€ìœ¼ë¡œ ë”°ë¦…ë‹ˆë‹¤.** ëŒ€ê·œëª¨ ë¦¬íŒ©í„°ë§ì„ ì „ì œí•˜ì§€ ì•Šìœ¼ë©°, ì§€ê¸ˆë¶€í„° ì´ ê¸°ì¤€ì„ ë”°ë¥´ëŠ” ê²ƒì„ ëª©í‘œë¡œ í•©ë‹ˆë‹¤.

---

## ê¸°ìˆ  ìŠ¤íƒ

### í”„ë¡ íŠ¸ì—”ë“œ

| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| **React** | 19.2.1 | UI ë¼ì´ë¸ŒëŸ¬ë¦¬ |
| **TypeScript** | 5.9.3 | íƒ€ì… ì•ˆì •ì„± |
| **Vite** | 7.1.7 | ë¹Œë“œ ë„êµ¬ |
| **Tailwind CSS** | 4.1.14 | ìŠ¤íƒ€ì¼ë§ |
| **shadcn/ui** | - | UI ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬ (Radix UI ê¸°ë°˜) |
| **Wouter** | 3.3.5 | í´ë¼ì´ì–¸íŠ¸ ë¼ìš°íŒ… |
| **tRPC** | 11.6.0 | íƒ€ì… ì•ˆì „ API í´ë¼ì´ì–¸íŠ¸ |
| **TanStack Query** | 5.90.2 | ì„œë²„ ìƒíƒœ ê´€ë¦¬ |
| **Zod** | 4.1.12 | ìŠ¤í‚¤ë§ˆ ê²€ì¦ |
| **Lucide React** | 0.453.0 | ì•„ì´ì½˜ |
| **Sonner** | 2.0.7 | í† ìŠ¤íŠ¸ ì•Œë¦¼ |

### ë°±ì—”ë“œ

| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| **Node.js** | - | ëŸ°íƒ€ì„ |
| **Express** | 4.21.2 | HTTP ì„œë²„ |
| **tRPC** | 11.6.0 | íƒ€ì… ì•ˆì „ API ì„œë²„ |
| **Drizzle ORM** | 0.44.5 | ë°ì´í„°ë² ì´ìŠ¤ ORM |
| **MySQL2** | 3.15.0 | MySQL ë“œë¼ì´ë²„ |
| **Zod** | 4.1.12 | ì…ë ¥ ê²€ì¦ |
| **Superjson** | 1.13.3 | JSON ì§ë ¬í™” (Date ì§€ì›) |
| **Jose** | 6.1.0 | JWT ì²˜ë¦¬ |
| **Nanoid** | 5.1.5 | ê³ ìœ  ID ìƒì„± |

### ê°œë°œ ë„êµ¬

| ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|
| **Vitest** | 2.1.4 | í…ŒìŠ¤íŠ¸ í”„ë ˆì„ì›Œí¬ |
| **Prettier** | 3.6.2 | ì½”ë“œ í¬ë§·í„° |
| **ESBuild** | 0.25.0 | í”„ë¡œë•ì…˜ ë¹Œë“œ |
| **TSX** | 4.19.1 | TypeScript ì‹¤í–‰ |
| **Drizzle Kit** | 0.31.4 | ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜ |

### ì™¸ë¶€ ì„œë¹„ìŠ¤

- **Manus OAuth**: ì‚¬ìš©ì ì¸ì¦
- **LLM (GPT-4)**: í”„ë¡¬í”„íŠ¸ ìƒì„±
- **MySQL/TiDB**: ë°ì´í„°ë² ì´ìŠ¤
- **AWS S3**: íŒŒì¼ ì €ì¥ (ì„¤ì •ë˜ì–´ ìˆì§€ë§Œ í˜„ì¬ ë¯¸ì‚¬ìš©)

---

## í´ë” êµ¬ì¡°

```
zetalab/
â”œâ”€â”€ client/                    # í”„ë¡ íŠ¸ì—”ë“œ
â”‚   â”œâ”€â”€ public/                # ì •ì  íŒŒì¼ (ë¡œê³ , robots.txt, sitemap.xml)
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ _core/             # ì½”ì–´ ìœ í‹¸ë¦¬í‹° (í”„ë ˆì„ì›Œí¬ ì œê³µ)
â”‚   â”‚   â”‚   â””â”€â”€ hooks/         # useAuth ë“±
â”‚   â”‚   â”œâ”€â”€ components/        # React ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”‚   â”œâ”€â”€ ui/            # shadcn/ui ì»´í¬ë„ŒíŠ¸ (ìˆ˜ì • ê¸ˆì§€)
â”‚   â”‚   â”‚   â”œâ”€â”€ Sidebar.tsx    # ì‚¬ì´ë“œë°”
â”‚   â”‚   â”‚   â”œâ”€â”€ MainLayout.tsx # ë©”ì¸ ë ˆì´ì•„ì›ƒ
â”‚   â”‚   â”‚   â””â”€â”€ ...
â”‚   â”‚   â”œâ”€â”€ contexts/          # React Context (ThemeContext)
â”‚   â”‚   â”œâ”€â”€ hooks/             # ì»¤ìŠ¤í…€ í›…
â”‚   â”‚   â”œâ”€â”€ lib/               # ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„¤ì • (trpc, utils)
â”‚   â”‚   â”œâ”€â”€ pages/             # í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ const.ts           # ìƒìˆ˜ (getLoginUrl)
â”‚   â”‚   â”œâ”€â”€ index.css          # ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼
â”‚   â”‚   â”œâ”€â”€ main.tsx           # ì—”íŠ¸ë¦¬ í¬ì¸íŠ¸
â”‚   â”‚   â””â”€â”€ App.tsx            # ë¼ìš°íŒ… ì„¤ì •
â”‚   â””â”€â”€ index.html             # HTML í…œí”Œë¦¿
â”œâ”€â”€ server/                    # ë°±ì—”ë“œ
â”‚   â”œâ”€â”€ _core/                 # ì½”ì–´ ìœ í‹¸ë¦¬í‹° (í”„ë ˆì„ì›Œí¬ ì œê³µ, ìˆ˜ì • ê¸ˆì§€)
â”‚   â”‚   â”œâ”€â”€ context.ts         # tRPC ì»¨í…ìŠ¤íŠ¸
â”‚   â”‚   â”œâ”€â”€ trpc.ts            # tRPC ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ llm.ts             # LLM í—¬í¼
â”‚   â”‚   â”œâ”€â”€ oauth.ts           # OAuth í—¬í¼
â”‚   â”‚   â”œâ”€â”€ cookies.ts         # ì¿ í‚¤ ì„¤ì •
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ db.ts                  # ë°ì´í„°ë² ì´ìŠ¤ í—¬í¼ í•¨ìˆ˜
â”‚   â”œâ”€â”€ routers.ts             # tRPC ë¼ìš°í„° (API ì—”ë“œí¬ì¸íŠ¸)
â”‚   â”œâ”€â”€ storage.ts             # S3 ìŠ¤í† ë¦¬ì§€ í—¬í¼
â”‚   â””â”€â”€ *.test.ts              # Vitest í…ŒìŠ¤íŠ¸ íŒŒì¼
â”œâ”€â”€ drizzle/                   # ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ë° ë§ˆì´ê·¸ë ˆì´ì…˜
â”‚   â”œâ”€â”€ schema.ts              # í…Œì´ë¸” ì •ì˜
â”‚   â”œâ”€â”€ *.sql                  # ë§ˆì´ê·¸ë ˆì´ì…˜ SQL
â”‚   â””â”€â”€ meta/                  # Drizzle ë©”íƒ€ë°ì´í„°
â”œâ”€â”€ shared/                    # í”„ë¡ íŠ¸ì—”ë“œ-ë°±ì—”ë“œ ê³µìœ  ì½”ë“œ
â”‚   â”œâ”€â”€ const.ts               # ê³µìœ  ìƒìˆ˜
â”‚   â””â”€â”€ types.ts               # ê³µìœ  íƒ€ì…
â”œâ”€â”€ package.json               # ì˜ì¡´ì„± ê´€ë¦¬
â”œâ”€â”€ tsconfig.json              # TypeScript ì„¤ì •
â”œâ”€â”€ vite.config.ts             # Vite ì„¤ì •
â”œâ”€â”€ vitest.config.ts           # Vitest ì„¤ì •
â”œâ”€â”€ drizzle.config.ts          # Drizzle ì„¤ì •
â””â”€â”€ todo.md                    # ì‘ì—… ëª©ë¡
```

### ì¤‘ìš” ê·œì¹™

1. **`_core` ë””ë ‰í† ë¦¬ëŠ” ìˆ˜ì • ê¸ˆì§€**: í”„ë ˆì„ì›Œí¬ê°€ ì œê³µí•˜ëŠ” ì½”ì–´ ìœ í‹¸ë¦¬í‹°ì´ë¯€ë¡œ ì§ì ‘ ìˆ˜ì •í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
2. **`components/ui`ëŠ” ìˆ˜ì • ê¸ˆì§€**: shadcn/ui ì»´í¬ë„ŒíŠ¸ëŠ” CLIë¡œ ìƒì„±ë˜ë¯€ë¡œ ì§ì ‘ ìˆ˜ì •í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì»¤ìŠ¤í„°ë§ˆì´ì§•ì´ í•„ìš”í•˜ë©´ ë˜í¼ ì»´í¬ë„ŒíŠ¸ë¥¼ ë§Œë“­ë‹ˆë‹¤.
3. **í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸ëŠ” `pages/`ì—**: ë¼ìš°íŒ…ë˜ëŠ” ì»´í¬ë„ŒíŠ¸ëŠ” `client/src/pages/`ì— ë°°ì¹˜í•©ë‹ˆë‹¤.
4. **ì¬ì‚¬ìš© ì»´í¬ë„ŒíŠ¸ëŠ” `components/`ì—**: ì—¬ëŸ¬ í˜ì´ì§€ì—ì„œ ì‚¬ìš©í•˜ëŠ” ì»´í¬ë„ŒíŠ¸ëŠ” `client/src/components/`ì— ë°°ì¹˜í•©ë‹ˆë‹¤.
5. **ë°ì´í„°ë² ì´ìŠ¤ í—¬í¼ëŠ” `server/db.ts`ì—**: ëª¨ë“  ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ëŠ” `db.ts`ì— í•¨ìˆ˜ë¡œ ì •ì˜í•˜ê³  ë¼ìš°í„°ì—ì„œ ì¬ì‚¬ìš©í•©ë‹ˆë‹¤.

---

## ì½”ë”© ì»¨ë²¤ì…˜

### TypeScript

**ëª…ëª… ê·œì¹™**:
- **ë³€ìˆ˜/í•¨ìˆ˜**: camelCase (`userName`, `getUserById`)
- **íƒ€ì…/ì¸í„°í˜ì´ìŠ¤**: PascalCase (`User`, `InsertUser`)
- **ìƒìˆ˜**: UPPER_SNAKE_CASE (`COOKIE_NAME`, `ONE_YEAR_MS`)
- **íŒŒì¼ëª…**: PascalCase (ì»´í¬ë„ŒíŠ¸), camelCase (ìœ í‹¸ë¦¬í‹°)

**íƒ€ì… ì •ì˜**:
- Drizzle ìŠ¤í‚¤ë§ˆì—ì„œ ìë™ ìƒì„±ëœ íƒ€ì… ì‚¬ìš©: `typeof users.$inferSelect`, `typeof users.$inferInsert`
- ê³µìœ  íƒ€ì…ì€ `shared/types.ts`ì— ì •ì˜
- API ì…ë ¥/ì¶œë ¥ íƒ€ì…ì€ Zod ìŠ¤í‚¤ë§ˆë¡œ ì •ì˜

**ì˜ˆì‹œ**:
```typescript
// âœ… Good
export type User = typeof users.$inferSelect;
export type InsertUser = typeof users.$inferInsert;

const getUserById = async (id: number): Promise<User | undefined> => {
  // ...
};

// âŒ Bad
export interface User {
  id: number;
  name: string;
  // ... (ìˆ˜ë™ íƒ€ì… ì •ì˜)
}
```

### React

**ì»´í¬ë„ŒíŠ¸ êµ¬ì¡°**:
```typescript
// 1. Import
import { useState } from "react";
import { useLocation } from "wouter";
import { trpc } from "@/lib/trpc";
import { Button } from "@/components/ui/button";

// 2. íƒ€ì… ì •ì˜
interface MyComponentProps {
  title: string;
  onSubmit: (value: string) => void;
}

// 3. ì»´í¬ë„ŒíŠ¸
export default function MyComponent({ title, onSubmit }: MyComponentProps) {
  // 3.1 State
  const [value, setValue] = useState("");
  
  // 3.2 Hooks
  const [, navigate] = useLocation();
  const mutation = trpc.myApi.useMutation();
  
  // 3.3 Handlers
  const handleSubmit = () => {
    onSubmit(value);
  };
  
  // 3.4 Render
  return (
    <div>
      <h1>{title}</h1>
      <Button onClick={handleSubmit}>Submit</Button>
    </div>
  );
}
```

**tRPC ì‚¬ìš© íŒ¨í„´**:
```typescript
// Query
const { data, isLoading, error } = trpc.myApi.useQuery({ id: 1 });

// Mutation
const mutation = trpc.myApi.useMutation({
  onSuccess: (data) => {
    toast.success("ì„±ê³µ!");
    navigate("/result");
  },
  onError: (error) => {
    toast.error("ì˜¤ë¥˜: " + error.message);
  }
});

// í˜¸ì¶œ
mutation.mutate({ name: "test" });
```

**ì¡°ê±´ë¶€ ë Œë”ë§**:
```typescript
// âœ… Good: ëª…í™•í•œ ì¡°ê±´ë¶€ ë Œë”ë§
{user ? (
  <UserProfile user={user} />
) : (
  <LoginButton />
)}

// âŒ Bad: && ì—°ì‚°ìë¡œ ì¸í•œ 0 ë Œë”ë§
{items.length && <ItemList items={items} />}
```

### ë°±ì—”ë“œ (tRPC)

**ë¼ìš°í„° êµ¬ì¡°**:
```typescript
export const appRouter = router({
  myFeature: router({
    // Query: ë°ì´í„° ì¡°íšŒ
    getById: protectedProcedure
      .input(z.object({ id: z.number() }))
      .query(async ({ input, ctx }) => {
        const result = await getDataById(input.id);
        if (!result || result.userId !== ctx.user.id) {
          throw new TRPCError({ code: 'NOT_FOUND' });
        }
        return result;
      }),
    
    // Mutation: ë°ì´í„° ë³€ê²½
    create: protectedProcedure
      .input(z.object({ name: z.string() }))
      .mutation(async ({ input, ctx }) => {
        const result = await createData({
          userId: ctx.user.id,
          name: input.name
        });
        return { success: true, id: result[0].insertId };
      })
  })
});
```

**ë°ì´í„°ë² ì´ìŠ¤ í—¬í¼ íŒ¨í„´**:
```typescript
// server/db.ts
export async function getDataById(id: number) {
  const db = await getDb();
  if (!db) throw new Error("Database not available");
  
  const result = await db.select().from(myTable).where(eq(myTable.id, id)).limit(1);
  return result.length > 0 ? result[0] : undefined;
}

export async function createData(data: InsertMyData) {
  const db = await getDb();
  if (!db) throw new Error("Database not available");
  
  return await db.insert(myTable).values(data);
}
```

**ê¶Œí•œ ê²€ì¦ íŒ¨í„´**:
```typescript
// ì‚¬ìš©ì ì†Œìœ ê¶Œ ê²€ì¦
const data = await getDataById(input.id);
if (!data || data.userId !== ctx.user.id) {
  throw new TRPCError({ code: 'FORBIDDEN', message: 'Access denied' });
}

// ê´€ë¦¬ì ê¶Œí•œ ê²€ì¦
if (ctx.user.role !== 'admin') {
  throw new TRPCError({ code: 'FORBIDDEN', message: 'Admin only' });
}
```

### ë°ì´í„°ë² ì´ìŠ¤

**ìŠ¤í‚¤ë§ˆ ì •ì˜ íŒ¨í„´**:
```typescript
export const myTable = mysqlTable("myTable", {
  id: int("id").autoincrement().primaryKey(),
  userId: int("userId").notNull(),
  name: varchar("name", { length: 255 }).notNull(),
  description: text("description"),
  status: mysqlEnum("status", ["active", "inactive"]).default("active").notNull(),
  createdAt: timestamp("createdAt").defaultNow().notNull(),
  updatedAt: timestamp("updatedAt").defaultNow().onUpdateNow().notNull(),
});

export type MyData = typeof myTable.$inferSelect;
export type InsertMyData = typeof myTable.$inferInsert;
```

**ë§ˆì´ê·¸ë ˆì´ì…˜ ì›Œí¬í”Œë¡œìš°**:
1. `drizzle/schema.ts` ìˆ˜ì •
2. `pnpm drizzle-kit generate` ì‹¤í–‰ â†’ SQL ìƒì„±
3. ìƒì„±ëœ `.sql` íŒŒì¼ í™•ì¸
4. `webdev_execute_sql` ë„êµ¬ë¡œ SQL ì ìš©
5. TypeScript íƒ€ì… ìë™ ì—…ë°ì´íŠ¸ í™•ì¸

---

## ë°˜ë³µ íŒ¨í„´

### 1. ì¸ì¦ í•„ìš” í˜ì´ì§€ íŒ¨í„´

```typescript
export default function MyPage() {
  const { user, loading, isAuthenticated } = useAuth();
  const [, navigate] = useLocation();
  
  // ë¡œë”© ì¤‘
  if (loading) {
    return <div>ë¡œë”© ì¤‘...</div>;
  }
  
  // ë¹„ë¡œê·¸ì¸ ì‹œ ë¦¬ë‹¤ì´ë ‰íŠ¸
  if (!isAuthenticated) {
    window.location.href = getLoginUrl();
    return null;
  }
  
  // ë©”ì¸ ë Œë”ë§
  return <div>...</div>;
}
```

### 2. í¼ ì œì¶œ íŒ¨í„´

```typescript
const [formData, setFormData] = useState({ name: "", email: "" });

const mutation = trpc.myApi.create.useMutation({
  onSuccess: () => {
    toast.success("ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤");
    navigate("/success");
  },
  onError: (error) => {
    toast.error("ì˜¤ë¥˜: " + error.message);
  }
});

const handleSubmit = (e: React.FormEvent) => {
  e.preventDefault();
  
  // ìœ íš¨ì„± ê²€ì‚¬
  if (!formData.name.trim()) {
    toast.error("ì´ë¦„ì„ ì…ë ¥í•´ì£¼ì„¸ìš”");
    return;
  }
  
  mutation.mutate(formData);
};
```

### 3. ëª©ë¡ ì¡°íšŒ ë° ê²€ìƒ‰ íŒ¨í„´

```typescript
const [searchQuery, setSearchQuery] = useState("");

const { data: items, isLoading } = trpc.myApi.search.useQuery({
  query: searchQuery
});

return (
  <div>
    <Input
      value={searchQuery}
      onChange={(e) => setSearchQuery(e.target.value)}
      placeholder="ê²€ìƒ‰..."
    />
    
    {isLoading ? (
      <div>ë¡œë”© ì¤‘...</div>
    ) : items && items.length > 0 ? (
      <div>
        {items.map(item => (
          <ItemCard key={item.id} item={item} />
        ))}
      </div>
    ) : (
      <div>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤</div>
    )}
  </div>
);
```

### 4. ì‚­ì œ í™•ì¸ ë‹¤ì´ì–¼ë¡œê·¸ íŒ¨í„´

```typescript
const [deleteDialogOpen, setDeleteDialogOpen] = useState(false);
const [itemToDelete, setItemToDelete] = useState<number | null>(null);

const deleteMutation = trpc.myApi.delete.useMutation({
  onSuccess: () => {
    toast.success("ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤");
    setDeleteDialogOpen(false);
    // ëª©ë¡ ìƒˆë¡œê³ ì¹¨
    trpc.useUtils().myApi.getAll.invalidate();
  }
});

const handleDelete = () => {
  if (itemToDelete) {
    deleteMutation.mutate({ id: itemToDelete });
  }
};

return (
  <>
    <Button onClick={() => {
      setItemToDelete(item.id);
      setDeleteDialogOpen(true);
    }}>
      ì‚­ì œ
    </Button>
    
    <AlertDialog open={deleteDialogOpen} onOpenChange={setDeleteDialogOpen}>
      <AlertDialogContent>
        <AlertDialogHeader>
          <AlertDialogTitle>ì •ë§ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?</AlertDialogTitle>
          <AlertDialogDescription>
            ì´ ì‘ì—…ì€ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
          </AlertDialogDescription>
        </AlertDialogHeader>
        <AlertDialogFooter>
          <AlertDialogCancel>ì·¨ì†Œ</AlertDialogCancel>
          <AlertDialogAction onClick={handleDelete}>ì‚­ì œ</AlertDialogAction>
        </AlertDialogFooter>
      </AlertDialogContent>
    </AlertDialog>
  </>
);
```

---

## ìŠ¤íƒ€ì¼ë§ ê°€ì´ë“œ

### Tailwind CSS ì‚¬ìš©

**ê¸°ë³¸ ì›ì¹™**:
- Tailwind ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤ ìš°ì„  ì‚¬ìš©
- ì»¤ìŠ¤í…€ CSSëŠ” `index.css`ì˜ `@layer utilities`ì— ì •ì˜
- ì»´í¬ë„ŒíŠ¸ë³„ ìŠ¤íƒ€ì¼ì€ Tailwind í´ë˜ìŠ¤ë¡œ ì¸ë¼ì¸ ì‘ì„±

**ìƒ‰ìƒ ì‹œìŠ¤í…œ**:
- CSS ë³€ìˆ˜ ê¸°ë°˜: `--color-background`, `--color-foreground` ë“±
- Tailwind í´ë˜ìŠ¤: `bg-background`, `text-foreground`, `border-border`
- ë‹¤í¬ ëª¨ë“œ: `ThemeProvider`ë¡œ ê´€ë¦¬, CSS ë³€ìˆ˜ ìë™ ì „í™˜

**ì»¤ìŠ¤í…€ ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤**:
```css
/* index.css */
@layer utilities {
  .chat-container {
    max-width: 48rem;
    margin-left: auto;
    margin-right: auto;
    padding-left: 1rem;
    padding-right: 1rem;
  }
}
```

**ì‚¬ìš© ì˜ˆì‹œ**:
```typescript
<div className="chat-container">
  <Card className="p-6 border-border bg-card">
    <h1 className="text-2xl font-bold text-foreground">ì œëª©</h1>
    <p className="text-muted-foreground">ì„¤ëª…</p>
  </Card>
</div>
```

### shadcn/ui ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©

**ê¸°ë³¸ ì‚¬ìš©ë²•**:
```typescript
import { Button } from "@/components/ui/button";
import { Card, CardHeader, CardTitle, CardContent } from "@/components/ui/card";

<Button variant="default" size="lg">
  í´ë¦­
</Button>

<Card>
  <CardHeader>
    <CardTitle>ì œëª©</CardTitle>
  </CardHeader>
  <CardContent>
    ë‚´ìš©
  </CardContent>
</Card>
```

**variant íŒ¨í„´**:
- `Button`: `default`, `destructive`, `outline`, `secondary`, `ghost`, `link`
- `Badge`: `default`, `secondary`, `destructive`, `outline`

---

## ì„±ëŠ¥ ìµœì í™”

### 1. tRPC ì¿¼ë¦¬ ìºì‹±

TanStack Queryê°€ ìë™ìœ¼ë¡œ ìºì‹±í•˜ë¯€ë¡œ ë³„ë„ ì„¤ì • ë¶ˆí•„ìš”. ë‹¨, ë°ì´í„° ë³€ê²½ í›„ ìºì‹œ ë¬´íš¨í™” í•„ìš”:

```typescript
const utils = trpc.useUtils();

const mutation = trpc.myApi.create.useMutation({
  onSuccess: () => {
    // íŠ¹ì • ì¿¼ë¦¬ ë¬´íš¨í™”
    utils.myApi.getAll.invalidate();
    
    // ëª¨ë“  ì¿¼ë¦¬ ë¬´íš¨í™”
    utils.invalidate();
  }
});
```

### 2. ì´ë¯¸ì§€ ìµœì í™”

- ì •ì  ì´ë¯¸ì§€ëŠ” `client/public/`ì— ë°°ì¹˜
- íŒŒì¼ëª…ì— í•´ì‹œ ì¶”ê°€ (ì˜ˆ: `logo.a3f2b1c4.png`) â†’ ìºì‹œ ë¬´íš¨í™”
- ì ˆëŒ€ ê²½ë¡œë¡œ ì°¸ì¡°: `/logo.a3f2b1c4.png`

### 3. ì½”ë“œ ìŠ¤í”Œë¦¬íŒ…

Viteê°€ ìë™ìœ¼ë¡œ ì²˜ë¦¬í•˜ë¯€ë¡œ ë³„ë„ ì„¤ì • ë¶ˆí•„ìš”. í˜ì´ì§€ë³„ë¡œ ìë™ ë¶„í• ë¨.

---

## ë³´ì•ˆ ê·œì¹™

### 1. ì¸ì¦ ê²€ì¦

**í”„ë¡ íŠ¸ì—”ë“œ**:
- `useAuth()` í›…ìœ¼ë¡œ ì¸ì¦ ìƒíƒœ í™•ì¸
- ë¹„ë¡œê·¸ì¸ ì‹œ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸

**ë°±ì—”ë“œ**:
- `protectedProcedure` ì‚¬ìš© â†’ ìë™ ì¸ì¦ ê²€ì¦
- `ctx.user`ë¡œ í˜„ì¬ ì‚¬ìš©ì ì ‘ê·¼

### 2. ê¶Œí•œ ê²€ì¦

**ì‚¬ìš©ì ì†Œìœ ê¶Œ ê²€ì¦**:
```typescript
const data = await getDataById(input.id);
if (!data || data.userId !== ctx.user.id) {
  throw new TRPCError({ code: 'FORBIDDEN' });
}
```

**ê´€ë¦¬ì ê¶Œí•œ ê²€ì¦**:
```typescript
if (ctx.user.role !== 'admin') {
  throw new TRPCError({ code: 'FORBIDDEN' });
}
```

### 3. ì…ë ¥ ê²€ì¦

**Zod ìŠ¤í‚¤ë§ˆ ì‚¬ìš©**:
```typescript
.input(z.object({
  name: z.string().min(1).max(255),
  email: z.string().email(),
  age: z.number().int().positive()
}))
```

### 4. XSS ë°©ì§€

- Reactê°€ ìë™ìœ¼ë¡œ ì´ìŠ¤ì¼€ì´í”„ ì²˜ë¦¬
- `dangerouslySetInnerHTML` ì‚¬ìš© ê¸ˆì§€
- ì‚¬ìš©ì ì…ë ¥ì„ HTMLë¡œ ë Œë”ë§í•˜ì§€ ì•ŠìŒ

### 5. CSRF ë°©ì§€

- ì„¸ì…˜ ì¿ í‚¤: `SameSite=lax`, `HttpOnly`, `Secure`
- tRPCëŠ” JSON ê¸°ë°˜ì´ë¯€ë¡œ CSRF ê³µê²© ë¶ˆê°€ëŠ¥

---

## í…ŒìŠ¤íŠ¸ ì „ëµ

### 1. Vitest í…ŒìŠ¤íŠ¸ ì‘ì„±

**íŒŒì¼ ìœ„ì¹˜**: `server/*.test.ts`

**ê¸°ë³¸ êµ¬ì¡°**:
```typescript
import { describe, it, expect, beforeAll } from 'vitest';
import { appRouter } from './routers';

describe('myFeature', () => {
  let caller: ReturnType<typeof appRouter.createCaller>;
  
  beforeAll(async () => {
    caller = appRouter.createCaller({
      user: { id: 1, role: 'user' },
      req: {} as any,
      res: {} as any
    });
  });
  
  it('should create data', async () => {
    const result = await caller.myFeature.create({ name: 'test' });
    expect(result.success).toBe(true);
  });
});
```

### 2. í…ŒìŠ¤íŠ¸ ì»¤ë²„ë¦¬ì§€

**í•„ìˆ˜ í…ŒìŠ¤íŠ¸**:
- ì¸ì¦ í•„ìš” API: ë¹„ë¡œê·¸ì¸ ì‹œ ì—ëŸ¬
- ê¶Œí•œ ê²€ì¦: ë‹¤ë¥¸ ì‚¬ìš©ì ë°ì´í„° ì ‘ê·¼ ì‹œ ì—ëŸ¬
- ì…ë ¥ ê²€ì¦: ì˜ëª»ëœ ì…ë ¥ ì‹œ ì—ëŸ¬
- ì •ìƒ í”Œë¡œìš°: ì„±ê³µ ì¼€ì´ìŠ¤

**í…ŒìŠ¤íŠ¸ ì‹¤í–‰**:
```bash
pnpm test
```

---

## ìœ„í—˜ ìš”ì†Œ ë° ì£¼ì˜ì‚¬í•­

### ğŸ”´ í™•ì¥ ì‹œ ê¹¨ì§ˆ ê°€ëŠ¥ì„±ì´ ë†’ì€ ë¶€ë¶„

#### 1. TypeScript íƒ€ì… ì—ëŸ¬

**í˜„ì¬ ìƒíƒœ**: `Sidebar.tsx`ì™€ `Projects.tsx`ì— tRPC íƒ€ì… ì—ëŸ¬ ì¡´ì¬

**ì›ì¸**: ë°±ì—”ë“œ ë¼ìš°í„°ì— ì •ì˜ë˜ì§€ ì•Šì€ í”„ë¡œì‹œì €ë¥¼ í”„ë¡ íŠ¸ì—”ë“œì—ì„œ í˜¸ì¶œ

**í•´ê²° ë°©ë²•**:
- `Sidebar.tsx`: `updateConversationTitle` í”„ë¡œì‹œì € ë°±ì—”ë“œì— ì¶”ê°€ ë˜ëŠ” í”„ë¡ íŠ¸ì—”ë“œ ì½”ë“œ ì œê±°
- `Projects.tsx`: `project.delete` í”„ë¡œì‹œì € ë°±ì—”ë“œ ë¼ìš°í„°ì— ë“±ë¡

**ì˜í–¥**: íƒ€ì… ì—ëŸ¬ê°€ ìˆì–´ë„ ëŸ°íƒ€ì„ì—ëŠ” ë™ì‘í•˜ì§€ë§Œ, íƒ€ì… ì•ˆì •ì„±ì´ ê¹¨ì§

#### 2. í”„ë¡œì íŠ¸ ì‚­ì œ API ë¯¸ë“±ë¡

**í˜„ì¬ ìƒíƒœ**: `server/db.ts`ì— `deleteProject` í•¨ìˆ˜ ì¡´ì¬í•˜ì§€ë§Œ `server/routers.ts`ì— ë¯¸ë“±ë¡

**í•´ê²° ë°©ë²•**:
```typescript
// server/routers.ts
project: router({
  // ...
  delete: protectedProcedure
    .input(z.object({ projectId: z.number() }))
    .mutation(async ({ input, ctx }) => {
      const project = await getProjectById(input.projectId);
      if (!project || project.userId !== ctx.user.id) {
        throw new TRPCError({ code: 'FORBIDDEN' });
      }
      await deleteProject(input.projectId);
      return { success: true };
    })
})
```

#### 3. localStorage ì •ë¦¬ íƒ€ì´ë°

**í˜„ì¬ ìƒíƒœ**: `main.tsx`ì—ì„œ ì•± ì´ˆê¸°í™” ì‹œ `cleanupAuthStorage()` í˜¸ì¶œ

**ìœ„í—˜**: ë¡œê·¸ì¸ ìƒíƒœì—ì„œë„ localStorageê°€ ì‚­ì œë˜ì–´ ì¼ì‹œì ìœ¼ë¡œ ì‚¬ìš©ì ì •ë³´ê°€ ì‚¬ë¼ì§ˆ ìˆ˜ ìˆìŒ

**ê¶Œì¥ ì‚¬í•­**: `useAuth` í›…ì—ì„œ `trpc.auth.me` ì¿¼ë¦¬ ì„±ê³µ ì‹œì—ë§Œ localStorage ì •ë¦¬

#### 4. ì˜ë„ í…œí”Œë¦¿ ê´€ë¦¬

**í˜„ì¬ ìƒíƒœ**: ì‹œë“œ ë°ì´í„°ë¡œë§Œ ê´€ë¦¬, ê´€ë¦¬ì UI ì—†ìŒ

**ìœ„í—˜**: ìƒˆë¡œìš´ ì¹´í…Œê³ ë¦¬ ì¶”ê°€ ì‹œ ë°ì´í„°ë² ì´ìŠ¤ ì§ì ‘ ìˆ˜ì • í•„ìš”

**ê¶Œì¥ ì‚¬í•­**: ê´€ë¦¬ì UI ì¶”ê°€ ë˜ëŠ” ì‹œë“œ ìŠ¤í¬ë¦½íŠ¸ ìë™í™”

#### 5. JSON í•„ë“œ íŒŒì‹± ì—ëŸ¬ ì²˜ë¦¬ ë¶€ì¡±

**í˜„ì¬ ìƒíƒœ**: `intentAnswers`, `suggestedServices` ë“± JSON í•„ë“œë¥¼ `JSON.parse()`ë¡œ íŒŒì‹±í•˜ì§€ë§Œ ì—ëŸ¬ ì²˜ë¦¬ ì—†ìŒ

**ìœ„í—˜**: ì˜ëª»ëœ JSON ë°ì´í„° ì‹œ ì„œë²„ í¬ë˜ì‹œ

**ê¶Œì¥ ì‚¬í•­**:
```typescript
const intentAnswers = prompt.intentAnswers 
  ? JSON.parse(prompt.intentAnswers) 
  : {};

// â†“ ê°œì„ 

let intentAnswers = {};
try {
  intentAnswers = prompt.intentAnswers ? JSON.parse(prompt.intentAnswers) : {};
} catch (error) {
  console.error('Failed to parse intentAnswers:', error);
}
```

#### 6. Sidebar ëŒ€í™” ëª©ë¡ ë”ë³´ê¸° ë©”ë‰´ ë¯¸ì™„ì„± ê¸°ëŠ¥

**í˜„ì¬ ìƒíƒœ**: ì‚¬ì´ë“œë°” ëŒ€í™” ëª©ë¡ì— ë”ë³´ê¸° ë©”ë‰´(ì  3ê°œ)ê°€ ìˆì§€ë§Œ ì¼ë¶€ ê¸°ëŠ¥ ë¯¸êµ¬í˜„

**êµ¬í˜„ëœ ê¸°ëŠ¥**: ì‚­ì œ

**ë¯¸êµ¬í˜„ ê¸°ëŠ¥**: 
- ê³ ì •: í”„ë¡ íŠ¸ì—”ë“œì—ì„œ "ê³§ ì¶”ê°€ë©ë‹ˆë‹¤" í† ìŠ¤íŠ¸ë§Œ í‘œì‹œ, ë°±ì—”ë“œ API ì—†ìŒ
- ì´ë¦„ë³€ê²½: í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë‹¤ì´ì–¼ë¡œê·¸ë§Œ í‘œì‹œ, ë°±ì—”ë“œ API ì—†ìŒ

**ê¶Œì¥ ì‚¬í•­**: ë°±ì—”ë“œì— `pinConversation`, `updateConversationTitle` í”„ë¡œì‹œì € ì¶”ê°€

#### 7. ì‚¬ì´ë“œë°” ë©”ë‰´ í•­ëª© ì¤‘ ë¯¸êµ¬í˜„ ê¸°ëŠ¥

**í˜„ì¬ ìƒíƒœ**: ì‚¬ì´ë“œë°”ì— ë©”ë‰´ í•­ëª©ì´ ìˆì§€ë§Œ ì¼ë¶€ ê¸°ëŠ¥ ë¯¸êµ¬í˜„

**ë¯¸êµ¬í˜„ ë©”ë‰´**:
- ì•„í‹°íŒ©íŠ¸: ë¼ìš°íŒ… ì—†ìŒ, í´ë¦­ ì‹œ "ì¤€ë¹„ì¤‘" í† ìŠ¤íŠ¸
- Builder Box: ë¼ìš°íŒ… ì—†ìŒ, í´ë¦­ ì‹œ "ì¤€ë¹„ì¤‘" í† ìŠ¤íŠ¸

**ê¶Œì¥ ì‚¬í•­**: ë¯¸êµ¬í˜„ ë©”ë‰´ëŠ” ì‚¬ì´ë“œë°”ì—ì„œ ì œê±°í•˜ê±°ë‚˜, êµ¬í˜„ í›„ í™œì„±í™”

### ğŸŸ¡ ì£¼ì˜ê°€ í•„ìš”í•œ ë¶€ë¶„

#### 1. ì„¸ì…˜ ì¿ í‚¤ ì„¤ì •

**í˜„ì¬ ì„¤ì •**: `SameSite=lax`, `HttpOnly`, `Secure`

**ì£¼ì˜**: í”„ë¡œë•ì…˜ í™˜ê²½ì—ì„œ HTTPS í•„ìˆ˜. HTTPì—ì„œëŠ” `Secure` ì¿ í‚¤ê°€ ì‘ë™í•˜ì§€ ì•ŠìŒ.

#### 2. LLM API í˜¸ì¶œ ë¹„ìš©

**í˜„ì¬ ìƒíƒœ**: í”„ë¡¬í”„íŠ¸ ìƒì„± ì‹œë§ˆë‹¤ GPT-4 í˜¸ì¶œ

**ì£¼ì˜**: ì‚¬ìš©ëŸ‰ ì¦ê°€ ì‹œ ë¹„ìš© ê¸‰ì¦ ê°€ëŠ¥

**ê¶Œì¥ ì‚¬í•­**: ìºì‹±, ìš”ì²­ ì œí•œ, ë¹„ìš© ëª¨ë‹ˆí„°ë§

#### 3. ë°ì´í„°ë² ì´ìŠ¤ ì—°ê²° í’€

**í˜„ì¬ ìƒíƒœ**: `getDb()`ë¡œ ë‹¨ì¼ ì—°ê²° ìƒì„±

**ì£¼ì˜**: ë™ì‹œ ìš”ì²­ ì¦ê°€ ì‹œ ë³‘ëª© ê°€ëŠ¥

**ê¶Œì¥ ì‚¬í•­**: ì—°ê²° í’€ ì„¤ì • ì¶”ê°€

---

## ë°°í¬ ë° ìš´ì˜

### ë¹Œë“œ

```bash
pnpm build
```

**ê²°ê³¼**:
- í”„ë¡ íŠ¸ì—”ë“œ: `client/dist/`
- ë°±ì—”ë“œ: `dist/index.js`

### ì‹¤í–‰

```bash
pnpm start
```

### í™˜ê²½ ë³€ìˆ˜

ëª¨ë“  í™˜ê²½ ë³€ìˆ˜ëŠ” Manus í”Œë«í¼ì—ì„œ ìë™ ì£¼ì…. ë¡œì»¬ ê°œë°œ ì‹œ `.env` íŒŒì¼ ì‚¬ìš© (Git ì œì™¸).

---

## ê°œë°œ ì›Œí¬í”Œë¡œìš°

### 1. ìƒˆ ê¸°ëŠ¥ ì¶”ê°€

1. `todo.md`ì— ì‘ì—… í•­ëª© ì¶”ê°€
2. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ ìˆ˜ì • (`drizzle/schema.ts`)
3. ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„± ë° ì ìš©
4. ë°ì´í„°ë² ì´ìŠ¤ í—¬í¼ í•¨ìˆ˜ ì‘ì„± (`server/db.ts`)
5. tRPC ë¼ìš°í„°ì— í”„ë¡œì‹œì € ì¶”ê°€ (`server/routers.ts`)
6. í”„ë¡ íŠ¸ì—”ë“œ í˜ì´ì§€/ì»´í¬ë„ŒíŠ¸ ì‘ì„±
7. Vitest í…ŒìŠ¤íŠ¸ ì‘ì„±
8. ë¸Œë¼ìš°ì €ì—ì„œ ë™ì‘ í™•ì¸
9. `todo.md`ì—ì„œ ì™„ë£Œ í‘œì‹œ
10. ì²´í¬í¬ì¸íŠ¸ ìƒì„±

### 2. ë²„ê·¸ ìˆ˜ì •

1. `todo.md`ì— ë²„ê·¸ í•­ëª© ì¶”ê°€
2. ì›ì¸ ë¶„ì„ (ë¡œê·¸, ë¸Œë¼ìš°ì € ì½˜ì†”, ë°ì´í„°ë² ì´ìŠ¤)
3. ìˆ˜ì • ì½”ë“œ ì‘ì„±
4. í…ŒìŠ¤íŠ¸ë¡œ ì¬ë°œ ë°©ì§€ í™•ì¸
5. `todo.md`ì—ì„œ ì™„ë£Œ í‘œì‹œ
6. ì²´í¬í¬ì¸íŠ¸ ìƒì„±

### 3. ì½”ë“œ ë¦¬ë·° ì²´í¬ë¦¬ìŠ¤íŠ¸

- [ ] íƒ€ì… ì—ëŸ¬ ì—†ìŒ (`pnpm check`)
- [ ] í…ŒìŠ¤íŠ¸ í†µê³¼ (`pnpm test`)
- [ ] ì¸ì¦/ê¶Œí•œ ê²€ì¦ í¬í•¨
- [ ] ì…ë ¥ ê²€ì¦ (Zod ìŠ¤í‚¤ë§ˆ)
- [ ] ì—ëŸ¬ ì²˜ë¦¬ (try-catch, TRPCError)
- [ ] ì½”ë”© ì»¨ë²¤ì…˜ ì¤€ìˆ˜
- [ ] ë¶ˆí•„ìš”í•œ ì£¼ì„ ì œê±°
- [ ] `todo.md` ì—…ë°ì´íŠ¸

---

## ì°¸ê³  ìë£Œ

- [tRPC ê³µì‹ ë¬¸ì„œ](https://trpc.io/)
- [Drizzle ORM ê³µì‹ ë¬¸ì„œ](https://orm.drizzle.team/)
- [shadcn/ui ê³µì‹ ë¬¸ì„œ](https://ui.shadcn.com/)
- [Tailwind CSS ê³µì‹ ë¬¸ì„œ](https://tailwindcss.com/)
- [Vitest ê³µì‹ ë¬¸ì„œ](https://vitest.dev/)

---

## ë³€ê²½ ì´ë ¥

### v1.0.0 (2026-01-29)

- ì´ˆê¸° ì•„í‚¤í…ì²˜ ë¬¸ì„œ ì‘ì„±
- ê¸°ìˆ  ìŠ¤íƒ, í´ë” êµ¬ì¡°, ì½”ë”© ì»¨ë²¤ì…˜ ì •ë¦¬
- ë°˜ë³µ íŒ¨í„´ ë° ìœ„í—˜ ìš”ì†Œ ë¬¸ì„œí™”
